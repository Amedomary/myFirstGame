(function(t){function e(e){for(var o,a,i=e[0],l=e[1],u=e[2],s=0,f=[];s<i.length;s++)a=i[s],r[a]&&f.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(f.length)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],o=!0,a=1;a<n.length;a++){var i=n[a];0!==r[i]&&(o=!1)}o&&(c.splice(e--,1),t=l(l.s=n[0]))}return t}var o={},a={app:0},r={app:0},c=[];function i(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"fbf488a5"}[t]+".js"}function l(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(t){var e=[],n={about:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var o="css/"+({about:"about"}[t]||t)+"."+{about:"f863a15a"}[t]+".css",r=l.p+o,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var u=c[i],s=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(s===o||s===r))return e()}var f=document.getElementsByTagName("style");for(i=0;i<f.length;i++){u=f[i],s=u.getAttribute("data-href");if(s===o||s===r)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var o=e&&e.target&&e.target.src||r,c=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=o,delete a[t],d.parentNode.removeChild(d),n(c)},d.href=r;var v=document.getElementsByTagName("head")[0];v.appendChild(d)}).then(function(){a[t]=0}));var o=r[t];if(0!==o)if(o)e.push(o[2]);else{var c=new Promise(function(e,n){o=r[t]=[e,n]});e.push(o[2]=c);var u,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=i(t),u=function(e){s.onerror=s.onload=null,clearTimeout(f);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,c=new Error("Loading chunk "+t+" failed.\n("+o+": "+a+")");c.type=o,c.request=a,n[1](c)}r[t]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:s})},12e4);s.onerror=s.onload=u,document.head.appendChild(s)}return Promise.all(e)},l.m=t,l.c=o,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(n,o,function(e){return t[e]}.bind(null,o));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var d=s;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("64a9"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],c=(n("034f"),n("2877")),i={},l=Object(c["a"])(i,a,r,!1,null,null,null),u=l.exports,s=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("h1",[t._v("2D platformer")]),n("div",{attrs:{id:"background"}}),n("canvas",{attrs:{id:"canvas",width:"1100",height:"500"}},[t._v("Go canvas")]),n("canvas",{attrs:{id:"canvas_bg",width:"1100",height:"500"}},[t._v("Go canvas")]),n("nav",[n("router-link",{attrs:{to:"amedomary.ru"}},[t._v("to Home page")]),n("router-link",{attrs:{to:"/fractus"}},[t._v("to Frectus")]),n("router-link",{attrs:{to:"/xcom"}},[t._v("to Xcom")])],1),n("h1",{attrs:{id:"controller_amount"}},[t._v("Please use âŒ¨ï¸ (keyboard) or connect ðŸŽ® (controller)")]),n("div",{staticClass:"select-player"}),t._m(0)])},d=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mobile-alert"},[n("p",[t._v("This game only works on PC")]),n("p",[t._v("Please, open on your desktop device with width more than 1150px")])])}],v=(n("ac6a"),n("456d"),n("7f7f"),{name:"home",mounted:function(){var t=[];function e(){navigator.getGamepads();for(var e=0;e<t.length;e++){for(var n=t[e].gamepad,o=0;o<n.buttons.length;o++)n.buttons[o].pressed;T.SPACE=n.buttons[0].pressed,n.axes[0]<-.2?(T.LEFT=!0,T.RIGHT=!1):n.axes[0]>.2?(T.LEFT=!1,T.RIGHT=!0):(T.LEFT=!1,T.RIGHT=!1)}}function n(t){return t.indexOf("09cc")>-1?{schema:"ps",name:"PS4 Controller",button_leave:"O",button_leave_index:0==t.indexOf("Wireless")?1:2,button_join:"X",button_join_index:0==t.indexOf("Wireless")?0:1}:{schema:"xbox",name:"XBOX Controller",button_leave:"B",button_leave_index:1,button_join:"A",button_join_index:0}}function o(t,e){var n,o;return t>e&&(n=e,o=t),t<e&&(n=t,o=e),Math.floor(Math.random()*(o-n)+n)}window.addEventListener("gamepadconnected",function(e){var o=navigator.getGamepads()[e.gamepad.index],a=document.createElement("div");a.classList.add("player");var r=n(o.id);t.length<4&&t.push({gamepad:o,config:r}),"ps"==r.schema&&a.classList.add("ps"),a.setAttribute("data-button-join",r.button_join),a.setAttribute("data-button-leave",r.button_leave),a.setAttribute("data-info",r.name),document.getElementsByClassName("select-player")[0].appendChild(a),document.getElementById("controller_amount").innerHTML="".concat(t.length," controller(s) is connected")||!1});var a,r=document.getElementById("canvas"),c=r.getContext("2d"),i=document.getElementById("canvas_bg"),l=i.getContext("2d"),u=performance.now(),s=30,f=1/s,d=0,v=10,h=60/s,p=9,m=14,g={x:100,y:100,height:50,width:25,stateIn:"air",actionIn:"stay",jumpCounter:0,vX:0,vY:0,color:"106, 255, 203",opacity:1,onPlatform:!1},b={},y={x:o(5,25)*v,y:o(10,40)*v,w:o(5,20)*v,h:.5*v},x={x:o(50,70)*v,y:o(10,30)*v,w:o(5,20)*v,h:.5*v},w=2;c.fillStyle="#fff",c.font="17px sans-serif",c.textAlign="right";var _=function(t){l.strokeStyle="#fff",l.fillStyle="#fff",l.lineWidth=1,l.strokeRect(-10,-10,922,600),l.fillRect(t.x,t.y,t.w,t.h)};_(y),_(x);var T={UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1,SPACE:!1},E={},C=!0,P=function(t,e){switch(t){case 65:T.LEFT=e;break;case 87:T.UP=e;break;case 68:T.RIGHT=e;break;case 83:T.DOWN=e;break;case 32:T.SPACE=e;break}},I=function(t){P(t.which,!0)},k=function(t){P(t.which,!1)};document.addEventListener("keydown",I),document.addEventListener("keyup",k);var X=function(t,e,n){return Math.round(t+(e-t)*n)};function j(t,e){var n=e.x,o=e.x+e.w,a=e.y,r=e.y+e.h+t.height;n<t.x&&o>t.x&&a<t.y&&t.y<r&&t.vY>0?(t.y=a,t.stateIn="ground"):n<t.x&&t.x<o&&a<t.y&&t.y<r&&t.vY<0&&(t.y=a+e.h+t.height,t.vY=0)}function M(t,e){var n=t.x,o=t.x+t.w;return e.y===t.y&&n<e.x&&e.x<o}function S(t){0!==t.vX&&(t.x+=t.vX*h),"air"===t.stateIn&&(t.y+=t.vY*h)}function A(){function t(){b.x=g.x,b.y=g.y,E.SPACE=T.SPACE}M(y,g)||M(x,g)?g.onPlatform=!0:g.onPlatform=!1,E.SPACE&&!T.SPACE&&(C=!0),t(),S(g),T.LEFT&&(g.vX-=.5*h),T.RIGHT&&(g.vX+=.5*h),0!==g.vX&&(!T.RIGHT&&!T.LEFT&&0!==g.vX||T.RIGHT&&T.LEFT)&&(g.vX>0?g.vX-=.5*h:g.vX+=.5*h),"air"===g.stateIn?g.vY+=.5*h:"ground"===g.stateIn&&(g.vY=0),T.SPACE&&("ground"===g.stateIn&&C&&(g.vY=-10,g.y-=1),"air"===g.stateIn&&!C&&g.vY<0&&(g.vY-=.2*h),"air"===g.stateIn&&g.jumpCounter<=w&&C&&(g.vY=-10,g.jumpCounter+=1,C=!1)),0!==g.vY&&(g.width=25-Math.abs(g.vY)/3),0!==g.vX&&(g.height=50-Math.abs(g.vX)/3),g.y<460&&!g.onPlatform?g.stateIn="air":(g.stateIn="ground",g.width=25,g.jumpCounter=0),0!==g.vX?g.actionIn="run":0===g.vX&&(g.actionIn="stay",g.height=50),j(g,y),j(g,x),g.y>460&&(g.y=460),g.y<40&&(g.y=40),g.x>900&&(g.x=900,g.vX=0),g.x<15&&(g.x=15,g.vX=0),g.vX>p&&(g.vX=p),g.vX<-p&&(g.vX=-p),g.vY>m&&(g.vY=m),g.vY<-m&&(g.vY=-m)}function O(t){var e=X(b.y,g.y,t),n=X(b.x,g.x,t);c.clearRect(0,0,r.width,r.height),c.save(),c.translate(n,e),c.translate(-g.width/2,-g.height),c.fillStyle="rgb(".concat(g.color),c.fillRect(0,0,g.width,g.height),c.restore()}function L(t){for(var e=Object.keys(t),n=[],o=20,a=0;a<e.length;a++)n.push(o+21),o+=21;c.fillText("".concat(e[0]," = ").concat(Math.floor(t[e[0]])),1090,n[0]),c.fillText("".concat(e[1]," = ").concat(Math.floor(t[e[1]])),1090,n[1]),c.fillText("".concat(e[2]," = ").concat(Math.floor(t[e[2]])),1090,n[2]),c.fillText("".concat(e[3]," = ").concat(Math.floor(t[e[3]])),1090,n[3]),c.fillText("".concat(e[4]," = ").concat(t[e[4]]),1090,n[4]),c.fillText("".concat(e[5]," = ").concat(t[e[5]]),1090,n[5]),c.fillText("".concat(e[6]," = ").concat(t[e[6]]),1090,n[6]),c.fillText("".concat(e[7]," = ").concat(Math.floor(t[e[7]])),1090,n[7]),c.fillText("".concat(e[8]," = ").concat(Math.floor(t[e[8]])),1090,n[8]),c.fillText("".concat(e[9]," = ").concat(Math.floor(t[e[9]])),1090,n[9]),c.fillText("".concat(e[10]," = ").concat(Math.floor(t[e[10]])),1090,n[10]),c.fillText("".concat(e[11]," = ").concat(Math.floor(t[e[11]])),1090,n[11]),c.fillText("".concat(e[12]," = ").concat(Math.floor(t[e[12]])),1090,n[12]),c.fillText("".concat(e[13]," = ").concat(Math.floor(t[e[13]])),1090,n[13]),c.fillText("".concat(e[14]," = ").concat(Math.floor(t[e[14]])),1090,n[14]),c.fillText("".concat(e[15]," = ").concat(Math.floor(t[e[15]])),1090,n[15])}var Y=function t(){a=performance.now(),d+=(a-u)/1e3;while(d>f)d-=f,e(),A();u=a,O(d*s),L(g),requestAnimationFrame(t)};requestAnimationFrame(Y)}}),h=v,p=(n("f568"),Object(c["a"])(h,f,d,!1,null,"e64f135a",null)),m=p.exports;o["a"].use(s["a"]);var g=new s["a"]({routes:[{path:"/",name:"home",component:m},{path:"/sort",name:"sort",component:function(){return n.e("about").then(n.bind(null,"66a7"))}},{path:"/xcom",name:"xcom",component:function(){return n.e("about").then(n.bind(null,"d2a2"))}},{path:"/fractus",name:"fractus",component:function(){return n.e("about").then(n.bind(null,"bf43"))}}]}),b=n("2f62");o["a"].use(b["a"]);var y=new b["a"].Store({state:{},mutations:{},actions:{}});o["a"].config.productionTip=!1,new o["a"]({router:g,store:y,render:function(t){return t(u)}}).$mount("#app")},"64a9":function(t,e,n){},c13a:function(t,e,n){},f568:function(t,e,n){"use strict";var o=n("c13a"),a=n.n(o);a.a}});
//# sourceMappingURL=app.c8d186a7.js.map